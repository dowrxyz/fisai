(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c793f"],{"50e3":function(t,s,e){"use strict";e.r(s);e("b0c0"),e("99af");var i=function(){var t=this,s=t._self._c;return s("b-container",{attrs:{fluid:""}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[s("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){return[s("h4",{staticClass:"card-title"},[t._v("Detalles de Rol")])]},proxy:!0},{key:"body",fn:function(){return[s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item"},[s("strong",[t._v("Nombre:")]),s("span",{staticClass:"pull-right"},[t._v(t._s(t.document.name))])]),s("li",{staticClass:"list-group-item"},[s("strong",[t._v("Permisos Asignados:")]),s("span",{staticClass:"pull-right"},[t._v(t._s(t.permissionsSelected.length))])]),s("li",{staticClass:"list-group-item"},[s("strong",[t._v("Total Usuarios:")]),s("span",{staticClass:"pull-right"},[t._v(t._s(t.document.users_total))])])])]},proxy:!0},{key:"footer",fn:function(){return[s("button",{staticClass:"btn btn-primary",on:{click:t.saveChanges}},[s("i",{staticClass:"fa fa-floppy-o"}),t._v(" Guardar Cambios ")])]},proxy:!0}])})],1),s("div",{staticClass:"col-9"},[s("div",{staticClass:"row"},t._l(t.document.system_modules,(function(e,i){return s("div",{key:i,staticClass:"col-lg-6"},[s("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){return[s("h4",{staticClass:"card-title"},[t._v(t._s(e.name))])]},proxy:!0},{key:"body",fn:function(){return[s("ul",{staticClass:"list-group list-group-flush"},t._l(e.permissions,(function(e,n){return s("li",{key:n,staticClass:"list-group-item"},[s("strong",[t._v(t._s(e))]),s("div",{staticClass:"custom-control custom-switch float-right"},[s("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch".concat(i,"-").concat(n)},domProps:{checked:t.checkedIfExists(e)},on:{click:function(s){return t.selectPermission(e)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch".concat(i,"-").concat(n)}})])])})),0)]},proxy:!0}],null,!0)})],1)})),0)])])])},n=[],r=e("c7eb"),a=e("1da1"),c=(e("d81d"),e("a434"),e("14d9"),e("bcae")),o=e("7424"),l=e("442f"),u={mounted:function(){c["a"].index(),this.getData()},data:function(){return{document:{permissions:[],system_permissions:[],users_total:0},permissionsSelected:[]}},methods:{getData:function(){var t=this;return Object(a["a"])(Object(r["a"])().mark((function s(){var e,i;return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,o["a"].get("/roles/".concat(t.$route.params.id));case 3:e=s.sent,i=e.data,t.document=i,t.permissionsSelectedGenerate(t.document.permissions),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](0),l["a"].fire({icon:"error",title:"Error"});case 12:case"end":return s.stop()}}),s,null,[[0,9]])})))()},loadDocument:function(){var t=this;o["a"].show(this.$route.params.id).then((function(s){t.document=s.data,t.permissionsSelectedGenerate(t.document.permissions)}))},permissionsSelectedGenerate:function(t){this.permissionsSelected=t.map((function(t,s){return t.name}))},checkedIfExists:function(t){return-1!==this.permissionsSelected.indexOf(t)},selectPermission:function(t){var s=this.permissionsSelected.indexOf(t),e=-1!==s;return e?(this.permissionsSelected.splice(s,1),!0):(this.permissionsSelected.push(t),!0)},saveChanges:function(){var t=this;return Object(a["a"])(Object(r["a"])().mark((function s(){return Object(r["a"])().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,o["a"].patch("/roles/".concat(t.$route.params.id,"/permissions"),{permissions:t.permissionsSelected});case 3:t.getData(),l["a"].fire({icon:"success",title:"Actualizado Correctamente"}),s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](0),l["a"].fire({icon:"error",title:"Error"});case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()}}},p=u,d=e("2877"),m=Object(d["a"])(p,i,n,!1,null,null,null);s["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0c793f.3a2c6c53.js.map