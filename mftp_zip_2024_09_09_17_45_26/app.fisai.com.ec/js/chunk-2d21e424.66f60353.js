(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e424"],{d596:function(a,e,t){"use strict";t.r(e);t("b0c0"),t("a15b");var s=function(){var a,e,t=this,s=t._self._c;return s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{attrs:{md:"12"}},[s("iq-card",{scopedSlots:t._u([{key:"headerTitle",fn:function(){return[s("h4",{staticClass:"card-title"},[t._v("Historial Clínico")])]},proxy:!0},{key:"body",fn:function(){return[t.history?s("DataTable",{attrs:{data:t.history,columns:t.columns,"fields-search":["diagnoses","weight","height","systolic_pressure","diastolic_pressure"]},scopedSlots:t._u([{key:"rows",fn:function(a){var e=a.row,i=a.rowIndex;return[s("tr",[s("th",{attrs:{scope:"row"}},[t._v(t._s(i+1))]),s("td",[t._v(" "+t._s(e.user.first_last_name)+" "+t._s(e.user.second_last_name)+", "+t._s(e.user.name)+" ")]),s("td",[t._v(" "+t._s(e.diagnoses)+" ")]),s("td",[t._v(" "+t._s(e.weight)+" ")]),s("td",[t._v(" "+t._s(e.height)+" ")]),s("td",[t._v(" "+t._s(e.systolic_pressure)+" ")]),s("td",[t._v(" "+t._s(e.diastolic_pressure)+" ")]),s("td",[t._v(" "+t._s(e.created_at)+" ")]),s("td",[s("b-button-group",["Paciente"!=t.role?s("b-button",{directives:[{name:"user-can",rawName:"v-user-can",value:"leer pacientes",expression:"'leer pacientes'"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"warning",size:"sm",title:"Editar"},on:{click:function(a){return t.showModalEdit(e)}}},[s("i",{staticClass:"ri-ball-pen-fill m-0"})]):t._e(),s("b-button",{directives:[{name:"user-can",rawName:"v-user-can",value:"leer pacientes",expression:"'leer pacientes'"}],attrs:{variant:"secondary",size:"sm"},on:{click:function(a){return t.showModal(e)}}},[s("i",{staticClass:"ri-eye-fill m-0"})])],1)],1)])]}}],null,!1,740986490)}):t._e()]},proxy:!0}])})],1)],1),s("b-modal",{attrs:{id:"modal-data",title:"Historial Clínico","hide-footer":""}},[s("ul",[s("li",[s("b",[t._v("Ocupación:")]),t._v(" "+t._s(t.data.occupation))]),s("li",[s("b",[t._v("Diagnósticos:")]),t._v(" "+t._s(t.data.diagnoses))]),s("li",[s("b",[t._v("Tipo de Sangre:")]),t._v(" "+t._s(t.data.blood_type))]),s("li",[s("b",[t._v("Antecedentes Familiares:")]),t._v(" "+t._s(t.data.family_records))]),s("li",[s("b",[t._v("Problemas de salud pasados y actuales:")]),t._v(" "+t._s(t.data.health_problems))]),s("li",[s("b",[t._v("Condiciones crónicas o enfermedades:")]),t._v(" "+t._s(t.data.chronic_conditions_diseases)+" ")]),s("li",[s("b",[t._v("Lesiones previas o cirugías:")]),t._v(" "+t._s(t.data.previous_injuries_surgeries)+" ")]),s("li",[s("b",[t._v("Alergias conocidas:")]),t._v(" "+t._s(t.data.known_allergies))]),s("li",[s("b",[t._v("Medicamentos que el paciente esté tomando actualmente:")]),t._v(" "+t._s(t.data.medications_currently_taking)+" ")]),s("li",[s("b",[t._v("Terapias o tratamientos de fisioterapia:")]),t._v(" "+t._s(t.data.therapies))]),s("li",[s("b",[t._v("Hábitos:")]),t._v(" "+t._s((null===(a=t.data)||void 0===a?void 0:a.habits.length)>0?null===(e=t.data)||void 0===e?void 0:e.habits.join():"-"))]),s("li",[s("b",[t._v("Información sobre estilo de vida y actividad fisica:")]),t._v(" "+t._s(t.data.lifestyle)+" ")]),s("li",[s("b",[t._v("Hábitos alimentarios relevantes:")]),t._v(" "+t._s(t.data.relevant_habits))]),s("li",[s("b",[t._v("Hábitos de sueño:")]),t._v(" "+t._s(t.data.sleep_habits))]),s("li",[s("b",[t._v("Condición de salud mental:")]),t._v(" "+t._s(t.data.mental_health_condition))]),s("li",[s("b",[t._v("Peso (kg):")]),t._v(" "+t._s(t.data.weight))]),s("li",[s("b",[t._v("Estatura:")]),t._v(" "+t._s(t.data.height))]),s("li",[s("b",[t._v("Presión Arterial Sistólica:")]),t._v(" "+t._s(t.data.systolic_pressure))]),s("li",[s("b",[t._v("Presión Arterial Diastólica:")]),t._v(" "+t._s(t.data.diastolic_pressure))])])]),s("b-modal",{attrs:{id:"modal-edit",title:"Editar Historial Clínico","hide-footer":"",size:"lg","no-close-on-backdrop":""}},[s("ValidationObserver",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(a){var e=a.handleSubmit;return[s("b-form",{on:{submit:function(a){return a.stopPropagation(),a.preventDefault(),e(t.onSubmitExtraData)}}},[s("b-row",[s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Ocupación:"}},[s("ValidationProvider",{attrs:{name:"Ocupación",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.occupation,callback:function(a){t.$set(t.data,"occupation",a)},expression:"data.occupation"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Diagnósticos:"}},[s("ValidationProvider",{attrs:{name:"Diagnósticos",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.diagnoses,callback:function(a){t.$set(t.data,"diagnoses",a)},expression:"data.diagnoses"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Tipo de Sangre:"}},[s("ValidationProvider",{attrs:{name:"Tipo de Sangre",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-select",{attrs:{plain:"",options:["A+","O+","B+","AB+","A-","O-","B-","AB-"],id:"blood_type"},model:{value:t.data.blood_type,callback:function(a){t.$set(t.data,"blood_type",a)},expression:"data.blood_type"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Antecedentes Familiares:"}},[s("ValidationProvider",{attrs:{name:"Antecedentes Familiares",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.family_records,callback:function(a){t.$set(t.data,"family_records",a)},expression:"data.family_records"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"col-md-12"},[s("p",[t._v("Antecedentes Personales")])]),s("b-form-group",{staticClass:"col-md-4",attrs:{label:"Problemas de salud pasados y actuales:"}},[s("ValidationProvider",{attrs:{name:"Problemas de salud pasados y actuales",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.health_problems,callback:function(a){t.$set(t.data,"health_problems",a)},expression:"data.health_problems"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-4",attrs:{label:"Condiciones crónicas o enfermedades:"}},[s("ValidationProvider",{attrs:{name:"Condiciones crónicas o enfermedades",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.chronic_conditions_diseases,callback:function(a){t.$set(t.data,"chronic_conditions_diseases",a)},expression:"data.chronic_conditions_diseases"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-4",attrs:{label:"Lesiones previas o cirugías:"}},[s("ValidationProvider",{attrs:{name:"Lesiones previas o cirugías",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.previous_injuries_surgeries,callback:function(a){t.$set(t.data,"previous_injuries_surgeries",a)},expression:"data.previous_injuries_surgeries"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-4",attrs:{label:"Alergias conocidas:"}},[s("ValidationProvider",{attrs:{name:"Alergias conocidas",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.known_allergies,callback:function(a){t.$set(t.data,"known_allergies",a)},expression:"data.known_allergies"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-8",attrs:{label:"Medicamentos que el paciente esté tomando actualmente:"}},[s("ValidationProvider",{attrs:{name:"Medicamentos que el paciente esté tomando actualmente",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.medications_currently_taking,callback:function(a){t.$set(t.data,"medications_currently_taking",a)},expression:"data.medications_currently_taking"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"col-md-12"},[s("hr")]),s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Terapias o tratamientos de fisioterapia:"}},[s("ValidationProvider",{attrs:{name:"Terapias o tratamientos de fisioterapia",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.therapies,callback:function(a){t.$set(t.data,"therapies",a)},expression:"data.therapies"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Hábitos:"}},[s("ValidationProvider",{attrs:{name:"Hábitos",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("v-select",{class:e.length>0?" is-invalid":"",attrs:{options:["ALCOHOL","CIGARRILLOS","EJERCICIOS","BUENA ALIMENTACIÓN","MALA ALIMENTACIÓN","CAFEINA"],multiple:""},model:{value:t.data.habits,callback:function(a){t.$set(t.data,"habits",a)},expression:"data.habits"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Información sobre estilo de vida y actividad fisica:"}},[s("ValidationProvider",{attrs:{name:"Información sobre estilo de vida y actividad fisica",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.lifestyle,callback:function(a){t.$set(t.data,"lifestyle",a)},expression:"data.lifestyle"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Hábitos alimentarios relevantes:"}},[s("ValidationProvider",{attrs:{name:"Hábitos alimentarios relevantes",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.relevant_habits,callback:function(a){t.$set(t.data,"relevant_habits",a)},expression:"data.relevant_habits"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Hábitos de sueño:"}},[s("ValidationProvider",{attrs:{name:"Hábitos de sueño",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.sleep_habits,callback:function(a){t.$set(t.data,"sleep_habits",a)},expression:"data.sleep_habits"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-6",attrs:{label:"Condición de salud mental:"}},[s("ValidationProvider",{attrs:{name:"Condición de salud mental",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:t.data.mental_health_condition,callback:function(a){t.$set(t.data,"mental_health_condition",a)},expression:"data.mental_health_condition"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-3",attrs:{label:"Peso (kg):"}},[s("ValidationProvider",{attrs:{name:"Peso",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"number",step:".01"},model:{value:t.data.weight,callback:function(a){t.$set(t.data,"weight",a)},expression:"data.weight"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-3",attrs:{label:"Estatura (cm.):"}},[s("ValidationProvider",{attrs:{name:"Estatura",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"number",step:".01"},model:{value:t.data.height,callback:function(a){t.$set(t.data,"height",a)},expression:"data.height"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-3",attrs:{label:"Presión Arterial Sistólica:"}},[s("ValidationProvider",{attrs:{name:"Presión Arterial",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"number",step:".01"},model:{value:t.data.systolic_pressure,callback:function(a){t.$set(t.data,"systolic_pressure",a)},expression:"data.systolic_pressure"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("b-form-group",{staticClass:"col-md-3",attrs:{label:"Presión Arterial Diastólica:"}},[s("ValidationProvider",{attrs:{name:"Presión Arterial",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors;return[s("b-form-input",{class:e.length>0?" is-invalid":"",attrs:{type:"number",step:".01"},model:{value:t.data.diastolic_pressure,callback:function(a){t.$set(t.data,"diastolic_pressure",a)},expression:"data.diastolic_pressure"}}),s("div",{staticClass:"invalid-feedback"},[s("span",[t._v(t._s(e[0]))])])]}}],null,!0)})],1)],1),s("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[t._v(" Guardar ")]),s("b-button",{staticClass:"iq-bg-danger",attrs:{type:"reset",variant:"none"}},[t._v(" Cancelar ")])],1)]}}])})],1)],1)},i=[],r=t("c7eb"),l=t("1da1"),n=(t("b64b"),t("442f")),o=t("bcae"),d=t("7424"),c=t("1fdb"),u=t("3d20"),v=t.n(u),_={components:{DataTable:c["a"]},data:function(){return{role:null,data:{occupation:null,diagnoses:null,blood_type:null,family_records:null,health_problems:null,chronic_conditions_diseases:null,previous_injuries_surgeries:null,known_allergies:null,medications_currently_taking:null,therapies:null,habits:[],lifestyle:null,relevant_habits:null,sleep_habits:null,mental_health_condition:null,weight:null,height:null,systolic_pressure:null,diastolic_pressure:null},type:"add",history:[],columns:[{name:"Paciente",field:"name",sort:""},{name:"Diagnóstico",field:"diagnoses",sort:""},{name:"Peso (kg)",field:"weight",sort:""},{name:"Altura",field:"height",sort:""},{name:"Presión Sistólica",field:"systolic_pressure",sort:""},{name:"Presión Diastólica",field:"diastolic_pressure",sort:""},{name:"Fecha",field:"created_at",sort:""},{name:"Acciones",field:"actions",sort:""}],lastId:null}},mounted:function(){o["a"].index(),this.getData();var a=JSON.parse(localStorage.getItem("user"));this.role=a.role},methods:{getData:function(){var a=this;return Object(l["a"])(Object(r["a"])().mark((function e(){var t,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].get("/medical-history");case 3:t=e.sent,s=t.data,a.history=s.data,a.lastId=a.history[0].id,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),n["a"].fire({icon:"error",title:"Error"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},showModal:function(a){this.data=a,this.$bvModal.show("modal-data")},showModalEdit:function(a){this.data=a,this.$bvModal.show("modal-edit")},destroy:function(a){var e=this;v.a.fire({icon:"warning",title:"Seguro de eliminar",showDenyButton:!1,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"Cancelar"}).then((function(t){t.isConfirmed&&d["a"].delete("/medical-history/".concat(a)).then((function(a){200===a.status&&(n["a"].fire({icon:"success",title:"Eliminado correctamente"}),e.getData())})).catch((function(a){n["a"].fire({icon:"error",title:a.message})}))}))},onSubmitExtraData:function(){var a=this;return Object(l["a"])(Object(r["a"])().mark((function e(){var t;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="/patients/".concat(a.data.patient.id,"/extra"),e.prev=1,e.next=4,d["a"].put(t,a.data);case 4:return e.next=6,a.getData();case 6:a.$bvModal.hide("modal-edit"),e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("error"),console.log(e.t0),n["a"].fire({icon:"error",title:"Error"});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}},p=_,f=t("2877"),b=Object(f["a"])(p,s,i,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d21e424.66f60353.js.map