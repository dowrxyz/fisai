{"version":3,"sources":["webpack:///./src/views/fisai/tips/IndexView.vue","webpack:///./src/views/fisai/tips/ModalForm.vue","webpack:///src/views/fisai/tips/ModalForm.vue","webpack:///./src/views/fisai/tips/ModalForm.vue?da1f","webpack:///./src/views/fisai/tips/ModalForm.vue?8b20","webpack:///src/views/fisai/tips/IndexView.vue","webpack:///./src/views/fisai/tips/IndexView.vue?624e","webpack:///./src/views/fisai/tips/IndexView.vue?c8bb"],"names":["render","_vm","this","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","_v","proxy","directives","name","rawName","value","expression","on","$event","showModal","title","date","url","tips","columns","_ref","row","rowIndex","_s","date_format","destroy","id","_e","type","data","getData","staticRenderFns","model","showDismissibleAlert","callback","$$v","_l","errorMessages","error","ref","handleSubmit","stopPropagation","preventDefault","onSubmit","_ref2","errors","class","length","form","$set","_ref3","_ref4","components","props","String","required","default","Object","watch","newValue","oldValue","methods","saveData","updateData","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","field","_this$errorMessages","wrap","_context","prev","next","api","post","Toast","fire","icon","$bvModal","hide","$emit","t0","push","apply","_toConsumableArray","$bvToast","toast","join","variant","solid","autoHideDelay","stop","_this2","_callee2","_this2$errorMessages","_context2","put","concat","component","ModalForm","DataTable","sort","mounted","xray","index","_yield$api$get","get","sent","show","Swal","showDenyButton","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","delete","res","status","catch","message"],"mappings":"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","file":"js/chunk-2d0d7265.55fff595.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('iq-card',{scopedSlots:_vm._u([{key:\"headerTitle\",fn:function(){return [_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Lista de Consejos\")])]},proxy:true},{key:\"headerAction\",fn:function(){return [_c('b-button',{directives:[{name:\"user-can\",rawName:\"v-user-can\",value:('crear consejos'),expression:\"'crear consejos'\"}],attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.showModal('add', { title: null, date: null, url: null })}}},[_vm._v(\" Agregar \")])]},proxy:true},{key:\"body\",fn:function(){return [(_vm.tips)?_c('DataTable',{attrs:{\"data\":_vm.tips,\"columns\":_vm.columns,\"fields-search\":['title']},scopedSlots:_vm._u([{key:\"rows\",fn:function({ row, rowIndex }){return [_c('tr',[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(rowIndex + 1))]),_c('td',[_vm._v(\" \"+_vm._s(row.title)+\" \")]),_c('td',[_c('a',{attrs:{\"href\":row.url,\"target\":\"_blank\"}},[_vm._v(\"Ver Vídeo\")])]),_c('td',[_vm._v(\" \"+_vm._s(row.date_format)+\" \")]),_c('td',[_c('b-button-group',[_c('b-button',{directives:[{name:\"user-can\",rawName:\"v-user-can\",value:('actualizar consejos'),expression:\"'actualizar consejos'\"}],attrs:{\"variant\":\"warning\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.showModal('edit', row)}}},[_c('i',{staticClass:\"ri-ball-pen-fill m-0\"})]),_c('b-button',{directives:[{name:\"user-can\",rawName:\"v-user-can\",value:('eliminar consejos'),expression:\"'eliminar consejos'\"}],attrs:{\"variant\":\"danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.destroy(row.id)}}},[_c('i',{staticClass:\"ri-delete-bin-line m-0\"})])],1)],1)])]}}],null,false,2976539614)}):_vm._e()]},proxy:true}])})],1)],1),_c('ModalForm',{attrs:{\"type\":_vm.type,\"data\":_vm.data},on:{\"getData\":_vm.getData}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"modal-form\",\"title\":_vm.type === 'add' ? 'Agregar Consejo' : 'Editar Consejo',\"no-close-on-backdrop\":\"\",\"hide-footer\":\"\"}},[_c('b-alert',{attrs:{\"variant\":\"danger\",\"dismissible\":\"\"},model:{value:(_vm.showDismissibleAlert),callback:function ($$v) {_vm.showDismissibleAlert=$$v},expression:\"showDismissibleAlert\"}},[_c('div',{staticClass:\"iq-alert-text\"},[_c('h5',{staticClass:\"alert-heading\"},[_vm._v(\"Errores\")]),_c('p',_vm._l((_vm.errorMessages),function(error){return _c('ol',{key:error},[_c('li',[_vm._v(_vm._s(error))])])}),0)])]),_c('ValidationObserver',{ref:\"form\",scopedSlots:_vm._u([{key:\"default\",fn:function({ handleSubmit }){return [_c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return handleSubmit(_vm.onSubmit)}}},[_c('b-row',[_c('b-form-group',{staticClass:\"col-md-12\",attrs:{\"label\":\"Título:\"}},[_c('ValidationProvider',{attrs:{\"name\":\"Título\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('b-form-input',{class:errors.length > 0 ? ' is-invalid' : '',attrs:{\"type\":\"text\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}}),_c('div',{staticClass:\"invalid-feedback\"},[_c('span',[_vm._v(_vm._s(errors[0]))])])]}}],null,true)})],1),_c('b-form-group',{staticClass:\"col-md-12\",attrs:{\"label\":\"Fecha:\"}},[_c('ValidationProvider',{attrs:{\"name\":\"Fecha\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('b-form-input',{class:errors.length > 0 ? ' is-invalid' : '',attrs:{\"type\":\"date\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}}),_c('div',{staticClass:\"invalid-feedback\"},[_c('span',[_vm._v(_vm._s(errors[0]))])])]}}],null,true)})],1),_c('b-form-group',{staticClass:\"col-md-12\",attrs:{\"label\":\"URL:\"}},[_c('ValidationProvider',{attrs:{\"name\":\"URL\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('b-form-input',{class:errors.length > 0 ? ' is-invalid' : '',attrs:{\"type\":\"text\"},model:{value:(_vm.form.url),callback:function ($$v) {_vm.$set(_vm.form, \"url\", $$v)},expression:\"form.url\"}}),_c('div',{staticClass:\"invalid-feedback\"},[_c('span',[_vm._v(_vm._s(errors[0]))])])]}}],null,true)})],1),_c('div',{staticClass:\"col-md-12 w-100\"},[_c('b-button',{staticClass:\"float-right\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\" \"+_vm._s(_vm.type === \"add\" ? \"Guardar\" : \"Actualizar\")+\" \")])],1)],1)],1)]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal\n    id=\"modal-form\"\n    :title=\"type === 'add' ? 'Agregar Consejo' : 'Editar Consejo'\"\n    no-close-on-backdrop\n    hide-footer\n  >\n    <b-alert v-model=\"showDismissibleAlert\" variant=\"danger\" dismissible>\n      <div class=\"iq-alert-text\">\n        <h5 class=\"alert-heading\">Errores</h5>\n        <p>\n          <ol v-for=\"error in errorMessages\" :key=\"error\">\n            <li>{{ error }}</li>\n          </ol>\n        </p>\n      </div>\n    </b-alert>\n    <ValidationObserver ref=\"form\" v-slot=\"{ handleSubmit }\">\n      <b-form @submit.stop.prevent=\"handleSubmit(onSubmit)\">\n        <b-row>\n          <b-form-group class=\"col-md-12\" label=\"Título:\">\n            <ValidationProvider name=\"Título\" rules=\"required\" v-slot=\"{ errors }\">\n              <b-form-input\n                v-model=\"form.title\"\n                type=\"text\"\n                :class=\"errors.length > 0 ? ' is-invalid' : ''\"\n              />\n              <div class=\"invalid-feedback\">\n                <span>{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n          </b-form-group>\n          <b-form-group class=\"col-md-12\" label=\"Fecha:\">\n            <ValidationProvider name=\"Fecha\" rules=\"required\" v-slot=\"{ errors }\">\n              <b-form-input\n                v-model=\"form.date\"\n                type=\"date\"\n                :class=\"errors.length > 0 ? ' is-invalid' : ''\"\n              />\n              <div class=\"invalid-feedback\">\n                <span>{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n          </b-form-group>\n          <b-form-group class=\"col-md-12\" label=\"URL:\">\n            <ValidationProvider name=\"URL\" rules=\"required\" v-slot=\"{ errors }\">\n              <b-form-input\n                v-model=\"form.url\"\n                type=\"text\"\n                :class=\"errors.length > 0 ? ' is-invalid' : ''\"\n              />\n              <div class=\"invalid-feedback\">\n                <span>{{ errors[0] }}</span>\n              </div>\n            </ValidationProvider>\n          </b-form-group>\n          <div class=\"col-md-12 w-100\">\n            <b-button type=\"submit\" variant=\"primary\" class=\"float-right\">\n              {{ type === \"add\" ? \"Guardar\" : \"Actualizar\" }}\n            </b-button>\n          </div>\n        </b-row>\n      </b-form>\n    </ValidationObserver>\n  </b-modal>\n</template>\n\n<script>\nimport { Toast } from './../../../mixins/toast'\nimport api from './../../../services/api'\n\nexport default {\n  components: {},\n  props: {\n    type: {\n      type: String,\n      required: true,\n      default: 'add'\n    },\n    data: {\n      type: Object,\n      required: false\n    }\n  },\n  data () {\n    return {\n      form: {\n        title: null,\n        date: null,\n        url: null\n      },\n      errorMessages: [],\n      showDismissibleAlert: false\n    }\n  },\n  watch: {\n    data: function (newValue, oldValue) {\n      this.form = newValue\n    }\n  },\n  methods: {\n    onSubmit () {\n      if (this.type === 'add') {\n        this.saveData()\n      } else {\n        this.updateData()\n      }\n    },\n    async saveData () {\n      try {\n        await api.post('/tips', this.form)\n\n        Toast.fire({\n          icon: 'success',\n          title: 'Consejo Guardado'\n        })\n\n        this.$bvModal.hide('modal-form')\n        this.$emit('getData')\n        this.errorMessages = []\n      } catch (error) {\n        if (error && error.data && error.data.errors) {\n          this.showDismissibleAlert = true\n          this.errorMessages = []\n\n          for (let field in error.data.errors) {\n            this.errorMessages.push(...error.data.errors[field])\n          }\n\n          this.$bvToast.toast(this.errorMessages.join('<br>'), {\n            title: 'Error',\n            variant: 'danger',\n            solid: true,\n            autoHideDelay: 5000\n          })\n        } else {\n          this.$bvToast.toast('Ha ocurrido un error', {\n            title: 'Error',\n            variant: 'danger',\n            solid: true,\n            autoHideDelay: 5000\n          })\n        }\n      }\n    },\n    async updateData () {\n      try {\n        await api.put(`/tips/${this.data.id}`, this.form)\n\n        Toast.fire({\n          icon: 'success',\n          title: 'Consejo Actualizado'\n        })\n\n        this.$bvModal.hide('modal-form')\n        this.$emit('getData')\n        this.errorMessages = []\n      } catch (error) {\n        if (error && error.data && error.data.errors) {\n          this.showDismissibleAlert = true\n          this.errorMessages = []\n\n          for (let field in error.data.errors) {\n            this.errorMessages.push(...error.data.errors[field])\n          }\n\n          this.$bvToast.toast(this.errorMessages.join('<br>'), {\n            title: 'Error',\n            variant: 'danger',\n            solid: true,\n            autoHideDelay: 5000\n          })\n        } else {\n          this.$bvToast.toast('Ha ocurrido un error', {\n            title: 'Error',\n            variant: 'danger',\n            solid: true,\n            autoHideDelay: 5000\n          })\n        }\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalForm.vue?vue&type=template&id=84625620&\"\nimport script from \"./ModalForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container fluid>\n    <b-row>\n      <b-col md=\"12\">\n        <iq-card>\n          <template v-slot:headerTitle>\n            <h4 class=\"card-title\">Lista de Consejos</h4>\n          </template>\n          <template v-slot:headerAction>\n            <b-button\n              v-user-can=\"'crear consejos'\"\n              variant=\"primary\"\n              @click=\"showModal('add', { title: null, date: null, url: null })\"\n            >\n              Agregar\n            </b-button>\n          </template>\n          <template v-slot:body>\n            <DataTable\n              v-if=\"tips\"\n              :data=\"tips\"\n              :columns=\"columns\"\n              :fields-search=\"['title']\"\n            >\n              <template #rows=\"{ row, rowIndex }\">\n                <tr>\n                  <th scope=\"row\">{{ rowIndex + 1 }}</th>\n                  <td>\n                    {{ row.title }}\n                  </td>\n                  <td>\n                    <a :href=\"row.url\" target=\"_blank\">Ver Vídeo</a>\n                  </td>\n                  <td>\n                    {{ row.date_format }}\n                  </td>\n                  <td>\n                    <b-button-group>\n                      <b-button\n                        v-user-can=\"'actualizar consejos'\"\n                        variant=\"warning\"\n                        size=\"sm\"\n                        @click=\"showModal('edit', row)\"\n                      >\n                        <i class=\"ri-ball-pen-fill m-0\"></i>\n                      </b-button>\n                      <b-button\n                        v-user-can=\"'eliminar consejos'\"\n                        variant=\"danger\"\n                        size=\"sm\"\n                        @click=\"destroy(row.id)\"\n                      >\n                        <i class=\"ri-delete-bin-line m-0\"></i>\n                      </b-button>\n                    </b-button-group>\n                  </td>\n                </tr>\n              </template>\n            </DataTable>\n          </template>\n        </iq-card>\n      </b-col>\n    </b-row>\n\n    <ModalForm @getData=\"getData\" :type=\"type\" :data=\"data\" />\n  </b-container>\n</template>\n\n<script>\nimport { Toast } from './../../../mixins/toast'\nimport { xray } from '../../../config/pluginInit'\nimport api from './../../../services/api'\nimport DataTable from './../../../components/DataTable.vue'\nimport ModalForm from './ModalForm.vue'\nimport Swal from 'sweetalert2'\n\nexport default {\n  components: {\n    ModalForm,\n    DataTable\n  },\n  data () {\n    return {\n      data: {},\n      type: 'add',\n      tips: [],\n      columns: [\n        {\n          name: 'Título',\n          field: 'title',\n          sort: ''\n        },\n        {\n          name: 'URL',\n          field: 'url',\n          sort: ''\n        },\n        {\n          name: 'Fecha',\n          field: 'date_format',\n          sort: ''\n        }\n      ]\n    }\n  },\n  mounted () {\n    xray.index()\n    this.getData()\n  },\n  methods: {\n    async getData () {\n      try {\n        const { data } = await api.get('/tips')\n        this.tips = data.data\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: 'Error'\n        })\n      }\n    },\n    showModal (type, data) {\n      this.data = data\n      this.type = type\n      this.$bvModal.show('modal-form')\n    },\n    destroy (id) {\n      Swal.fire({\n        icon: 'warning',\n        title: 'Seguro de eliminar',\n        showDenyButton: false,\n        showCancelButton: true,\n        confirmButtonText: 'Si',\n        cancelButtonText: 'Cancelar'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          api\n            .delete(`/tips/${id}`)\n            .then((res) => {\n              if (res.status === 200) {\n                Toast.fire({\n                  icon: 'success',\n                  title: 'Eliminado correctamente'\n                })\n                this.getData()\n              }\n            })\n            .catch((error) => {\n              Toast.fire({\n                icon: 'error',\n                title: error.message\n              })\n            })\n        }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndexView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndexView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IndexView.vue?vue&type=template&id=0bc2f76d&\"\nimport script from \"./IndexView.vue?vue&type=script&lang=js&\"\nexport * from \"./IndexView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}