(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2250e0"],{e384:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("h1",{staticClass:"mb-0 mt-2"},[e._v("Inscribirse")]),t("sign-up1-form",{attrs:{formType:"jwt"}})],1)},s=[],n=(a("b0c0"),a("d81d"),a("4de4"),a("d3b7"),function(){var e=this,t=e._self._c;return t("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(a){var r=a.handleSubmit;return[t("form",{staticClass:"mt-4",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),r(e.onSubmit)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{vid:"first_last_name",name:"Primer Apellido",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"first_last_name"}},[e._v("Primer Apellido")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.first_last_name,expression:"user.first_last_name"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"text",id:"first_last_name"},domProps:{value:e.user.first_last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"first_last_name",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{vid:"second_last_name",name:"Segundo Apellido",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"second_last_name"}},[e._v("Segundo Apellido")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.second_last_name,expression:"user.second_last_name"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"text",id:"second_last_name"},domProps:{value:e.user.second_last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"second_last_name",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])])]}}],null,!0)})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{vid:"name",name:"Nombres",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"name"}},[e._v("Nombres")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"text",id:"name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{vid:"document_type",name:"Tipo de Documento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"document_type"}},[e._v("Tipo de Documento")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.document_type,expression:"user.document_type"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{id:"document_type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"document_type",t.target.multiple?a:a[0])}}},[t("option",[e._v("CEDULA")]),t("option",[e._v("PASAPORTE")])]),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])])]}}],null,!0)})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{vid:"document_number",name:"Número de Documento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"document_number"}},[e._v("Número de Documento")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.document_number,expression:"user.document_number"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"text",id:"document_number"},domProps:{value:e.user.document_number},on:{input:function(t){t.target.composing||e.$set(e.user,"document_number",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{vid:"email",name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"email"}},[e._v("Correo Electrónico")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"email",id:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])])]}}],null,!0)})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{vid:"password",name:"Password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"password",id:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-6"},[t("ValidationProvider",{attrs:{vid:"password_confirmation",name:"Confirmar Contraseña",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"password_confirmation"}},[e._v("Confirmar Contraseña")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password_confirmation,expression:"user.password_confirmation"}],class:"form-control mb-0"+(r.length>0?" is-invalid":""),attrs:{type:"password",id:"password_confirmation"},domProps:{value:e.user.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.user,"password_confirmation",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(r[0]))])])])]}}],null,!0)})],1)]),t("div",{staticClass:"d-inline-block w-100"},[t("span",{staticClass:"dark-color d-inline-block line-height-2"},[e._v(" ¿Ya tienes cuenta? "),e.$route.meta.dark?t("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/dark/auth/sign-in"}},[e._v(" Iniciar Sesión ")]):t("router-link",{staticClass:"iq-waves-effect pr-4",attrs:{to:"/auth/sign-in"}},[e._v(" Iniciar Sesión ")])],1),t("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[e._v("Registrarse")])])])]}}])})}),o=[],i=a("c7eb"),l=a("1da1"),u=(a("e9c4"),a("14d9"),a("442f")),d=a("7424"),c={name:"SignUp1Form",props:["formType"],computed:{},data:function(){return{user:{first_last_name:null,second_last_name:null,name:null,document_type:null,document_number:null,email:null,password:null,password_confirmation:null}}},methods:{onSubmit:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.register();case 2:case"end":return t.stop()}}),t)})))()},register:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].post("/patients/public/register",e.user);case 3:return t.next=5,e.login();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),u["a"].fire({icon:"error",title:"Error"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},login:function(){var e=this;return Object(l["a"])(Object(i["a"])().mark((function t(){var a,r,s,n,o,l,c,m;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].post("/login",{type:"Paciente",document_number:e.user.document_number,email:e.user.email,password:e.user.password});case 3:a=t.sent,r=a.data,s=r.data,n=s.user,o=s.token,l=s.permissions,localStorage.setItem("isLoggedIn",!0),localStorage.setItem("user",JSON.stringify(n)),localStorage.setItem("token",o),localStorage.setItem("permissions",JSON.stringify(l)),c={Doctor:"dashboard.home-4",Paciente:"dashboard.home-3"},m=c[n.role]||"dashboard.home-1",e.$router.push({name:m}),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),u["a"].fire({icon:"error",title:"Error"});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}},m=c,v=a("2877"),p=Object(v["a"])(m,n,o,!1,null,null,null),f=p.exports,_=a("b0af"),b=a("358c"),g={name:"SignUp1",components:{SignUp1Form:f},data:function(){return{}},methods:{loginOAuth0:function(){new _["a"].WebAuth(b["a"].auth0Config).authorize()}}},w=g,h=Object(v["a"])(w,r,s,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d2250e0.9e9ac4e9.js.map