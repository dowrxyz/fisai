(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b3879"],{2984:function(a,t,e){"use strict";e.r(t);e("b0c0"),e("a4d3"),e("e01a");var s=function(){var a=this,t=a._self._c;return t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",{attrs:{md:"12"}},[t("iq-card",{scopedSlots:a._u([{key:"headerTitle",fn:function(){return[t("h4",{staticClass:"card-title"},[a._v("Historial Clínico")])]},proxy:!0},{key:"headerAction",fn:function(){return[t("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.showModalAdd(a.data)}}},[a._v(" Agregar ")])]},proxy:!0},{key:"body",fn:function(){return[a.history?t("DataTable",{attrs:{data:a.history,columns:a.columns,"fields-search":["diagnoses","weight","height","systolic_pressure","diastolic_pressure"]},scopedSlots:a._u([{key:"rows",fn:function(e){var s=e.row,i=e.rowIndex;return[t("tr",[t("th",{attrs:{scope:"row"}},[a._v(a._s(i+1))]),t("td",[a._v(" "+a._s(s.user.first_last_name)+" "+a._s(s.user.second_last_name)+", "+a._s(s.user.name)+" ")]),t("td",[s.diagnoses?t("div",a._l(s.diagnoses,(function(e,s){return t("span",{key:s},[a._v(" "+a._s(e.description)+" ")])})),0):a._e()]),t("td",[a._v(" "+a._s(s.weight?parseInt(s.weight):"-")+" ")]),t("td",[a._v(" "+a._s(s.height?parseInt(s.height):"-")+" ")]),t("td",[a._v(" "+a._s(s.systolic_pressure?parseInt(s.systolic_pressure):"-")+" ")]),t("td",[a._v(" "+a._s(s.diastolic_pressure?parseInt(s.diastolic_pressure):"-")+" ")]),t("td",[a._v(" "+a._s(s.created_at)+" ")]),t("td",[t("b-button-group",["Paciente"!=a.role&&a.lastId===s.id?t("b-button",{directives:[{name:"user-can",rawName:"v-user-can",value:"leer pacientes",expression:"'leer pacientes'"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"warning",size:"sm",title:"Editar"},on:{click:function(t){return a.showModalEdit(s)}}},[t("i",{staticClass:"ri-ball-pen-fill m-0"})]):a._e(),t("b-button",{directives:[{name:"user-can",rawName:"v-user-can",value:"leer pacientes",expression:"'leer pacientes'"}],attrs:{variant:"secondary",size:"sm"},on:{click:function(t){return a.showModal(s)}}},[t("i",{staticClass:"ri-eye-fill m-0"})]),t("b-button",{directives:[{name:"user-can",rawName:"v-user-can",value:"leer pacientes",expression:"'leer pacientes'"}],attrs:{variant:"success",size:"sm"},on:{click:function(t){return a.downloadPdf(s)}}},[t("i",{staticClass:"ri-file-fill m-0"})])],1)],1)])]}}],null,!1,816685931)}):a._e()]},proxy:!0}])})],1)],1),t("b-modal",{attrs:{id:"modal-data",title:"Historial Clínico","hide-footer":""}},[t("ul",[t("li",[t("b",[a._v("Institucion del Sistema:")]),a._v(" "+a._s(a.data.institucion))]),t("li",[t("b",[a._v("RUC:")]),a._v(" "+a._s(a.data.ruc))]),t("li",[t("b",[a._v("CIU:")]),a._v(" "+a._s(a.data.ciu))]),t("li",[t("b",[a._v("Establecimiento de Salud:")]),a._v(" "+a._s(a.data.establecimiento))]),t("li",[t("b",[a._v("Motivo de Consulta:")]),a._v(" "+a._s(a.data.reason_consultation))]),t("li",[t("b",[a._v("Antecedentes Clinico:")]),a._v(" "+a._s(a.data.clinical_history))]),t("li",[t("b",[a._v("Antecedentes Quirurgico:")]),a._v(" "+a._s(a.data.surgical_history))]),t("li",[t("b",[a._v("Tabaco:")]),a._v(" "+a._s(a.data.tabaco))]),t("li",[t("b",[a._v("Alcohol:")]),a._v(" "+a._s(a.data.alcohol))]),t("li",[t("b",[a._v("Actividad Fisica:")]),a._v(" "+a._s(a.data.actividad))]),t("li",[t("b",[a._v("Medicacion:")]),a._v(" "+a._s(a.data.medicacion))]),t("li",[t("b",[a._v("Antecedentes Familiares:")]),a._v(" "+a._s(a.data.family_background))]),t("li",[t("b",[a._v("Enfermedad Actual:")]),a._v(" "+a._s(a.data.current_illness))]),t("li",[t("b",[a._v("Revision de Organos y Sistemas:")]),a._v(" "+a._s(a.data.organ_check))]),t("li",[t("b",[a._v("Observaciones Adicionales:")]),a._v(" "+a._s(a.data.organ_description))]),t("li",[t("b",[a._v("Piel:")]),a._v(" "+a._s(a.data.piel))]),t("li",[t("b",[a._v("Ojos:")]),a._v(" "+a._s(a.data.ojos))]),t("li",[t("b",[a._v("Oido:")]),a._v(" "+a._s(a.data.oido))]),t("li",[t("b",[a._v("Faringe:")]),a._v(" "+a._s(a.data.faringe))]),t("li",[t("b",[a._v("Nariz:")]),a._v(" "+a._s(a.data.nariz))]),t("li",[t("b",[a._v("Cuello:")]),a._v(" "+a._s(a.data.cuello))]),t("li",[t("b",[a._v("Torax:")]),a._v(" "+a._s(a.data.torax))]),t("li",[t("b",[a._v("Abdomen:")]),a._v(" "+a._s(a.data.abdomen))]),t("li",[t("b",[a._v("Columna:")]),a._v(" "+a._s(a.data.columna))]),t("li",[t("b",[a._v("Pelvis:")]),a._v(" "+a._s(a.data.pelvis))]),t("li",[t("b",[a._v("Extremidades:")]),a._v(" "+a._s(a.data.extremidades))]),t("li",[t("b",[a._v("Neurologico:")]),a._v(" "+a._s(a.data.neurologico))]),t("li",[t("b",[a._v("Observaciones:")]),a._v(" "+a._s(a.data.regions_observations))]),t("li",[t("b",[a._v("Observaciones de Resultados:")]),a._v(" "+a._s(a.data.results_description))]),t("li",[t("b",[a._v("Recomendaciones Y/O Tratamientos:")]),a._v(" "+a._s(a.data.treatment))]),t("li",[t("b",[a._v("Temperatura:")]),a._v(" "+a._s(a.data.temperature))]),t("li",[t("b",[a._v("Frecuencia Cardiaca:")]),a._v(" "+a._s(a.data.blood_pressure))]),t("li",[t("b",[a._v("Saturacion de Oxigeno:")]),a._v(" "+a._s(a.data.oxigen))]),t("li",[t("b",[a._v("Frecuencia Respiratoria:")]),a._v(" "+a._s(a.data.frequency))]),t("li",[t("b",[a._v("Peso (kg):")]),a._v(" "+a._s(a.data.weight))]),t("li",[t("b",[a._v("Estatura:")]),a._v(" "+a._s(a.data.height))]),t("li",[t("b",[a._v("Presión Arterial Sistólica:")]),a._v(" "+a._s(a.data.systolic_pressure))]),t("li",[t("b",[a._v("Presión Arterial Diastólica:")]),a._v(" "+a._s(a.data.diastolic_pressure))])])]),t("b-modal",{attrs:{id:"modal-edit",title:"Historial Clínico","hide-footer":"",size:"lg","no-close-on-backdrop":""}},[t("ValidationObserver",{ref:"form",scopedSlots:a._u([{key:"default",fn:function(e){var s=e.handleSubmit;return[t("b-form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),s(a.onSubmitExtraData)}}},[t("b-row",[t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Institucion del Sistema:"}},[t("ValidationProvider",{attrs:{name:"Institucion del Sistema"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.institucion,callback:function(t){a.$set(a.data,"institucion",t)},expression:"data.institucion"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"RUC:"}},[t("ValidationProvider",{attrs:{name:"RUC"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.ruc,callback:function(t){a.$set(a.data,"ruc",t)},expression:"data.ruc"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"CIU:"}},[t("ValidationProvider",{attrs:{name:"CIU"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.ciu,callback:function(t){a.$set(a.data,"ciu",t)},expression:"data.ciu"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Establecimiento de Salud:"}},[t("ValidationProvider",{attrs:{name:"Establecimiento de Salud"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.establecimiento,callback:function(t){a.$set(a.data,"establecimiento",t)},expression:"data.establecimiento"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Motivo de Consulta:"}},[t("ValidationProvider",{attrs:{name:"Motivo de Consulta:"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-textarea",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.reason_consultation,callback:function(t){a.$set(a.data,"reason_consultation",t)},expression:"data.reason_consultation"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-12"},[t("hr")]),t("div",{staticClass:"col-md-12"},[t("p",[a._v("ANTESCEDENTES PERSONALES")])]),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Clinico:"}},[t("ValidationProvider",{attrs:{name:"Clinico:"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.clinical_history,callback:function(t){a.$set(a.data,"clinical_history",t)},expression:"data.clinical_history"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"QUIRURGICOS:"}},[t("ValidationProvider",{attrs:{name:"QUIRURGICOS:"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.surgical_history,callback:function(t){a.$set(a.data,"surgical_history",t)},expression:"data.surgical_history"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-12"},[t("hr")]),t("div",{staticClass:"col-md-12"},[t("p",[a._v("HABITOS Y ESTILO DE VIDA")])]),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"TABACO:"}},[t("ValidationProvider",{attrs:{name:"TABACO:"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.tabaco,callback:function(t){a.$set(a.data,"tabaco",t)},expression:"data.tabaco"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"ALCOHOL:"}},[t("ValidationProvider",{attrs:{name:"ALCOHOL:"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.alcohol,callback:function(t){a.$set(a.data,"alcohol",t)},expression:"data.alcohol"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"ACTVIDAD FISICA:"}},[t("ValidationProvider",{attrs:{name:"ACTIVIDAD FISICA:"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.actividad,callback:function(t){a.$set(a.data,"actividad",t)},expression:"data.actividad"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"MEDICACION:"}},[t("ValidationProvider",{attrs:{name:"MEDICACION:"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.medicacion,callback:function(t){a.$set(a.data,"medicacion",t)},expression:"data.medicacion"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-12"},[t("hr")]),t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Antecedentes Familiares:"}},[t("ValidationProvider",{attrs:{name:"Antecedentes Familiares:"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-textarea",{class:s.length>0?" is-invalid":"",model:{value:a.data.family_background,callback:function(t){a.$set(a.data,"family_background",t)},expression:"data.family_background"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Enfermedad Actual:"}},[t("ValidationProvider",{attrs:{name:"Enfermedad Actual:"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-textarea",{class:s.length>0?" is-invalid":"",model:{value:a.data.current_illness,callback:function(t){a.$set(a.data,"current_illness",t)},expression:"data.current_illness"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-12"},[t("hr")]),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Revision de Organos y Sistemas:"}},[t("ValidationProvider",{attrs:{name:"Revision de Organos y Sistemas"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("v-select",{class:s.length>0?" is-invalid":"",attrs:{options:["PIEL - ANEXOS","ORGANOS DE LOS SENTIDOS","RESPIRATORIO","CARDIO- VASCULAR","DIGESTIVO","GENITO- URINARIO","MUSCULO- ESQUELETICO","ENDOCRINO","HEMO- LINFATIVO","NERVISOS"],multiple:""},model:{value:a.data.organ_check,callback:function(t){a.$set(a.data,"organ_check",t)},expression:"data.organ_check"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-6",attrs:{label:"Observaciones Adicionales:"}},[t("ValidationProvider",{attrs:{name:"Observaciones"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.organ_description,callback:function(t){a.$set(a.data,"organ_description",t)},expression:"data.organ_description"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-12"},[t("hr")]),t("div",{staticClass:"col-md-12"},[t("p",[a._v("Examen Fisio Regional")])]),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Piel",label:"Piel:"}},[t("b-form-select",{attrs:{plain:"",options:["Cicatrices","Tatuajes","Piel y Faneras","Ninguno"],id:"fuerza"},model:{value:a.data.piel,callback:function(t){a.$set(a.data,"piel",t)},expression:"data.piel"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Ojos",label:"Ojos:"}},[t("b-form-select",{attrs:{plain:"",options:["Párpados","Conjuntivas","Pupilas","Córnea","Motilidad","Ninguno"],id:"fuerza"},model:{value:a.data.ojos,callback:function(t){a.$set(a.data,"ojos",t)},expression:"data.ojos"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Oido",label:"Oido:"}},[t("b-form-select",{attrs:{plain:"",options:["C. auditivo externo","Pabellón","Tímpanos","Ninguno"],id:"fuerza"},model:{value:a.data.oido,callback:function(t){a.$set(a.data,"oido",t)},expression:"data.oido"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Faringe",label:"Faringe:"}},[t("b-form-select",{attrs:{plain:"",options:["Labios","Lengua","Faringe","Amígdalas","Dentadura","Ninguno"],id:"fuerza"},model:{value:a.data.faringe,callback:function(t){a.$set(a.data,"faringe",t)},expression:"data.faringe"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Nariz",label:"Nariz:"}},[t("b-form-select",{attrs:{plain:"",options:["Tabique","Cornetes","Mucosas","Senos paranasales","Ninguno"],id:"fuerza"},model:{value:a.data.nariz,callback:function(t){a.$set(a.data,"nariz",t)},expression:"data.nariz"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Cuello",label:"Cuello:"}},[t("b-form-select",{attrs:{plain:"",options:["Tiroides / masas","Movilidad","Ninguno"],id:"fuerza"},model:{value:a.data.cuello,callback:function(t){a.$set(a.data,"cuello",t)},expression:"data.cuello"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Torax",label:"Torax:"}},[t("b-form-select",{attrs:{plain:"",options:["Mamas","Corazón","Pulmones","Parrilla Costal","Ninguno"],id:"fuerza"},model:{value:a.data.torax,callback:function(t){a.$set(a.data,"torax",t)},expression:"data.torax"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Abdomen",label:"Abdomen:"}},[t("b-form-select",{attrs:{plain:"",options:["Vísceras","Pared abdominal","Ninguno"],id:"fuerza"},model:{value:a.data.abdomen,callback:function(t){a.$set(a.data,"abdomen",t)},expression:"data.abdomen"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Columna",label:"Columna:"}},[t("b-form-select",{attrs:{plain:"",options:["Flexibilidad","Desviacion","Dolor","Ninguno"],id:"fuerza"},model:{value:a.data.columna,callback:function(t){a.$set(a.data,"columna",t)},expression:"data.columna"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Pelvis",label:"Pelvis:"}},[t("b-form-select",{attrs:{plain:"",options:["Pelvis","Genitales","Ninguno"],id:"fuerza"},model:{value:a.data.pelvis,callback:function(t){a.$set(a.data,"pelvis",t)},expression:"data.pelvis"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Extremidades",label:"Extremidades:"}},[t("b-form-select",{attrs:{plain:"",options:["Vascular","Miembros superiores","Miembros inferiores","Ninguno"],id:"fuerza"},model:{value:a.data.extremidades,callback:function(t){a.$set(a.data,"extremidades",t)},expression:"data.extremidades"}})],1),t("b-form-group",{staticClass:"col-md-4",attrs:{"label-for":"Neurologico",label:"Neurologico:"}},[t("b-form-select",{attrs:{plain:"",options:["Fuerza","Sensibilidad","Marcha","Reflejos","Ninguno"],id:"fuerza"},model:{value:a.data.neurologico,callback:function(t){a.$set(a.data,"neurologico",t)},expression:"data.neurologico"}})],1),t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Observaciones:"}},[t("ValidationProvider",{attrs:{name:"Observaciones Fisico"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.regions_observations,callback:function(t){a.$set(a.data,"regions_observations",t)},expression:"data.regions_observations"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-12"},[t("hr")]),t("div",{staticClass:"col-md-12"},[t("p",[a._v("Resultado De Examenes (Imagen, Laboratorio y Otros)")])]),t("table",{staticClass:"col-md-12 table",staticStyle:{padding:"0px 15px"}},[t("thead",{staticClass:"text-center"},[t("tr",[t("th",[a._v("Nombre")]),t("th",[a._v("Examen")]),t("th",[a._v("Fecha")]),t("th",[a._v("Resultado")]),t("th",[a._v("-")])])]),t("tbody",[a._l(a.results,(function(e){return t("tr",[t("td",[a._v(a._s(e.name))]),t("td",[t("div",{staticClass:"row"},a._l(e.images,(function(a){return t("div",{staticClass:"col-6"},[t("img",{staticClass:"mw-100",attrs:{src:a,alt:""}})])})),0)]),t("td",[a._v(a._s(e.date))]),t("td",[a._v(a._s(e.result))]),t("td",[t("button",{staticClass:"btn btn-warning",on:{click:function(){return a.handleDeleteResult(e.result)}}},[a._v("X")])])])})),t("tr",[t("td",[t("b-form-input",{model:{value:a.result.name,callback:function(t){a.$set(a.result,"name",t)},expression:"result.name"}})],1),t("td",{staticStyle:{"max-width":"300px"}},[t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Imagenes:"}},[t("ValidationProvider",{attrs:{name:"Imagenes"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("input",{class:s.length>0?" is-invalid":"mb-2",attrs:{type:"file",multiple:"",accept:"image/*"},on:{change:a.previewImages}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)}),a.images.length>0?t("div",{staticClass:"row"},a._l(a.images,(function(a,e){return t("div",{key:e,staticClass:"col-12"},[t("img",{staticClass:"mw-100",attrs:{src:a,alt:""}})])})),0):a._e()],1)],1),t("td",[t("b-form-input",{attrs:{type:"date"},model:{value:a.result.date,callback:function(t){a.$set(a.result,"date",t)},expression:"result.date"}})],1),t("td",[t("b-form-input",{model:{value:a.result.result,callback:function(t){a.$set(a.result,"result",t)},expression:"result.result"}})],1),t("td",[t("button",{staticClass:"btn btn-primary",on:{click:a.handleAddResult}},[a._v("Agregar")])])])],2)]),t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Observaciones de Resultados:"}},[t("ValidationProvider",{attrs:{name:"Observaciones"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"text"},model:{value:a.data.results_description,callback:function(t){a.$set(a.data,"results_description",t)},expression:"data.results_description"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("div",{staticClass:"col-md-12"},[t("p",[a._v("K. DIAGNÓSTICO")])]),t("table",{staticClass:"col-md-12 table",staticStyle:{padding:"0px 15px"}},[t("thead",{staticClass:"text-center"},[t("tr",[t("th",[a._v("Descripción")]),t("th",[a._v("CIE")]),t("th",[a._v("PRE/DEF")]),t("th",[a._v("-")])])]),t("tbody",[a._l(a.diagnosses,(function(e){return t("tr",[t("td",[a._v(a._s(e.description))]),t("td",[a._v(a._s(e.cie))]),t("td",[a._v(a._s(e.pre))]),t("td",[t("button",{staticClass:"btn btn-warning",on:{click:function(){return a.handleDeleteDiagnosis(e.cie)}}},[a._v("X")])])])})),t("tr",[t("td",[t("b-form-textarea",{attrs:{value:a.diagnosis_description}})],1),t("td",[t("b-form-input",{attrs:{list:"my-list-id"},on:{change:a.handleChangeCie}}),t("datalist",{attrs:{id:"my-list-id"}},a._l(a.codes,(function(e){return t("option",{key:e.code,domProps:{value:e.code}},[a._v(a._s(e.description))])})),0)],1),t("td",[t("b-form-group",{attrs:{"label-class":"d-block"}},[t("b-form-radio",{attrs:{inline:"",value:"pre"},model:{value:a.diagnosis.pre,callback:function(t){a.$set(a.diagnosis,"pre",t)},expression:"diagnosis.pre"}},[a._v(" PRE ")]),t("b-form-radio",{attrs:{inline:"",value:"def"},model:{value:a.diagnosis.pre,callback:function(t){a.$set(a.diagnosis,"pre",t)},expression:"diagnosis.pre"}},[a._v(" DEF ")])],1)],1),t("td",[t("button",{staticClass:"btn btn-primary",on:{click:a.handleAddDiagnosis}},[a._v("Agregar")])])])],2)]),t("b-form-group",{staticClass:"col-md-12",attrs:{label:"Recomendaciones Y/O Tratamientos:"}},[t("ValidationProvider",{attrs:{name:"Recomendaciones"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-textarea",{class:s.length>0?" is-invalid":"",model:{value:a.data.treatment,callback:function(t){a.$set(a.data,"treatment",t)},expression:"data.treatment"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-3",attrs:{label:"TEMPERATURA:"}},[t("ValidationProvider",{attrs:{name:"TEMPERATURA"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"number"},model:{value:a.data.temperature,callback:function(t){a.$set(a.data,"temperature",t)},expression:"data.temperature"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-3",attrs:{label:"FRECUENCIA CARDIACA:"}},[t("ValidationProvider",{attrs:{name:"FRECUENCIA CARDIACA"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"number"},model:{value:a.data.heart_rate,callback:function(t){a.$set(a.data,"heart_rate",t)},expression:"data.heart_rate"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-3",attrs:{label:"SATURACIÓN DE OXÍGENO:"}},[t("ValidationProvider",{attrs:{name:"SATURACIÓN DE OXÍGENO"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"number"},model:{value:a.data.oxigen,callback:function(t){a.$set(a.data,"oxigen",t)},expression:"data.oxigen"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-3",attrs:{label:"FRECUENCIA RESPIRATORIA:"}},[t("ValidationProvider",{attrs:{name:"FRECUENCIA RESPIRATORIA"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"number"},model:{value:a.data.frequency,callback:function(t){a.$set(a.data,"frequency",t)},expression:"data.frequency"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-3",attrs:{label:"Peso (kg):"}},[t("ValidationProvider",{attrs:{name:"Peso"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"number"},model:{value:a.data.weight,callback:function(t){a.$set(a.data,"weight",t)},expression:"data.weight"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-3",attrs:{label:"Estatura (cm.):"}},[t("ValidationProvider",{attrs:{name:"Estatura"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"number"},model:{value:a.data.height,callback:function(t){a.$set(a.data,"height",t)},expression:"data.height"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-3",attrs:{label:"Presión Arterial Sistólica:"}},[t("ValidationProvider",{attrs:{name:"Presión Arterial"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"number"},model:{value:a.data.systolic_pressure,callback:function(t){a.$set(a.data,"systolic_pressure",t)},expression:"data.systolic_pressure"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-3",attrs:{label:"Presión Arterial Diastólica:"}},[t("ValidationProvider",{attrs:{name:"Presión Arterial"},scopedSlots:a._u([{key:"default",fn:function(e){var s=e.errors;return[t("b-form-input",{class:s.length>0?" is-invalid":"",attrs:{type:"number"},model:{value:a.data.diastolic_pressure,callback:function(t){a.$set(a.data,"diastolic_pressure",t)},expression:"data.diastolic_pressure"}}),t("div",{staticClass:"invalid-feedback"},[t("span",[a._v(a._s(s[0]))])])]}}],null,!0)})],1),t("b-form-group",{staticClass:"col-md-12",attrs:{"label-for":"Personal de Salud",label:"Personal de Salud:"}},[t("b-form-select",{attrs:{plain:"",options:a.doctors,id:"salud"},model:{value:a.data.doctor_id,callback:function(t){a.$set(a.data,"doctor_id",t)},expression:"data.doctor_id"}})],1)],1),t("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"primary"}},[a._v(" Guardar ")]),t("b-button",{staticClass:"iq-bg-danger",attrs:{type:"reset",variant:"none"}},[a._v(" Cancelar ")])],1)]}}])})],1)],1)},i=[],r=e("c7eb"),n=e("1da1"),l=e("5530"),o=e("2909"),d=e("3835"),c=e("ade3"),u=(e("99af"),e("b64b"),e("7db0"),e("d3b7"),e("159b"),e("a630"),e("3ca3"),e("14d9"),e("4de4"),e("d81d"),e("ddb0"),e("2b3d"),e("9861"),e("88a7"),e("271a"),e("5494"),e("442f")),v=e("bcae"),b=e("7424"),p=e("1fdb"),m=e("3d20"),f=e.n(m),_=e("95e8"),g={components:{DataTable:p["a"]},data:function(){var a;return a={role:null,data:{institucion:null,occupation:null,diagnoses:null,blood_type:null,family_records:null,health_problems:null,chronic_conditions_diseases:null,previous_injuries_surgeries:null,known_allergies:null,medications_currently_taking:null,therapies:null,habits:[],lifestyle:null,relevant_habits:null,sleep_habits:null,mental_health_condition:null,weight:null,height:null,systolic_pressure:null,diastolic_pressure:null},type:"add",history:[],columns:[{name:"Paciente",field:"name",sort:""},{name:"Diagnóstico",field:"diagnoses",sort:""},{name:"Peso (kg)",field:"weight",sort:""},{name:"Altura",field:"height",sort:""},{name:"Presión Sistólica",field:"systolic_pressure",sort:""},{name:"Presión Diastólica",field:"diastolic_pressure",sort:""},{name:"Fecha",field:"created_at",sort:""},{name:"Acciones",field:"actions",sort:""}],lastId:null},Object(c["a"])(a,"type","add"),Object(c["a"])(a,"result",{}),Object(c["a"])(a,"results",[]),Object(c["a"])(a,"diagnosis",{}),Object(c["a"])(a,"diagnosses",[]),Object(c["a"])(a,"images",[]),Object(c["a"])(a,"doctors",[]),Object(c["a"])(a,"fecha",""),Object(c["a"])(a,"diagnosis_description",""),Object(c["a"])(a,"diagnosis_code",""),Object(c["a"])(a,"codes",[]),a},filters:{formatDate:function(a){if(!a)return"";var t=a.split("-"),e=Object(d["a"])(t,3),s=e[0],i=e[1],r=e[2];return"".concat(r,"/").concat(i,"/").concat(s)}},mounted:function(){v["a"].index(),this.getData(),this.getDoctors();var a=JSON.parse(localStorage.getItem("user"));this.role=a.role,this.codes=_},methods:{handleChangeCie:function(a){var t=this.codes.find((function(t){return t.code==a.toUpperCase()?t:""}));void 0!=t&&(this.diagnosis_description=t.description,this.diagnosis_code=t.code)},formatNumber:function(a){return parseInt(a)},previewImages:function(a){var t=this,e=a.target.files;this.result.images=e,e&&e.length>0&&(this.images=[],Array.from(e).forEach((function(a){var e=new FileReader;e.onload=function(a){t.images.push(a.target.result)},e.readAsDataURL(a)})))},handleAddResult:function(a){a.preventDefault();new Date(this.result.date);var t=this.result.date.split("-");this.result.date="".concat(t[2],"/").concat(t[1],"/").concat(t[0]),this.results=[].concat(Object(o["a"])(this.results),[this.result]),this.images=[],this.result={}},handleDeleteResult:function(a){this.results=this.results.filter((function(t){return t.result!=a}))},handleAddDiagnosis:function(a){a.preventDefault();var t=Object(l["a"])(Object(l["a"])({},this.diagnosis),{},{cie:this.diagnosis_code,description:this.diagnosis_description});this.diagnosses=[].concat(Object(o["a"])(this.diagnosses),[t]),this.diagnosis={}},handleDeleteDiagnosis:function(a){this.diagnosses=this.diagnosses.filter((function(t){return t.cie!=a}))},getDoctors:function(){var a=this;return Object(n["a"])(Object(r["a"])().mark((function t(){var e,s;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b["a"].get("/doctors");case 3:e=t.sent,s=e.data,a.doctors=Object(o["a"])(s.data.map((function(a){return{value:a.id,text:a.name}}))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getData:function(){var a=this;return Object(n["a"])(Object(r["a"])().mark((function t(){var e,s;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b["a"].get("/medical-history?patient_id=".concat(a.$route.params.id));case 3:e=t.sent,s=e.data,a.history=s.data,a.lastId=a.history?a.history[0].id:null,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),u["a"].fire({icon:"error",title:"Error"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showModal:function(a){this.data=a,this.$bvModal.show("modal-data")},showModalAdd:function(a){this.data={},this.type="add",this.$bvModal.show("modal-edit"),this.data=a},showModalEdit:function(a){a=Object(l["a"])(Object(l["a"])({},a),{},{diastolic_pressure:parseInt(a.diastolic_pressure),systolic_pressure:parseInt(a.systolic_pressure),height:parseInt(a.height),weight:parseInt(a.weight),heart_rate:parseInt(a.heart_rate),temperature:parseInt(a.temperature),frequency:parseInt(a.frequency),oxigen:parseInt(a.oxigen)}),this.data=Object(l["a"])({},a),this.type="edit",this.$bvModal.show("modal-edit")},destroy:function(a){var t=this;f.a.fire({icon:"warning",title:"Seguro de eliminar",showDenyButton:!1,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&b["a"].delete("/medical-history/".concat(a)).then((function(a){200===a.status&&(u["a"].fire({icon:"success",title:"Eliminado correctamente"}),t.getData())})).catch((function(a){u["a"].fire({icon:"error",title:a.message})}))}))},onSubmitExtraData:function(){var a=this;return Object(n["a"])(Object(r["a"])().mark((function t(){var e,s,i;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e="/patients/".concat(a.$route.params.id,"/extra"),s=new FormData,a.results.forEach((function(a,t){s.append("results[".concat(t,"][name]"),a.name),s.append("results[".concat(t,"][date]"),a.date),s.append("results[".concat(t,"][result]"),a.result);for(var e=0;e<a.images.length;e++)s.append("results[".concat(t,"][images][]"),a.images[e])})),t.prev=3,a.data=Object(l["a"])(Object(l["a"])({},a.data),{},{exam_results:[],diagnoses:a.diagnosses}),"add"!==a.type){t.next=11;break}return t.next=8,b["a"].post(e,a.data);case 8:i=t.sent,t.next=14;break;case 11:return t.next=13,b["a"].put(e,a.data);case 13:i=t.sent;case 14:if(!i){t.next=17;break}return t.next=17,b["a"].post("/patients/".concat(a.$route.params.id,"/history/images"),s);case 17:return t.next=19,a.getData();case 19:a.$bvModal.hide("modal-edit"),t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](3),u["a"].fire({icon:"error",title:"Error"});case 25:case"end":return t.stop()}}),t,null,[[3,22]])})))()},downloadPdf:function(a){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){var s,i,n,l;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="/patients/".concat(t.$route.params.id,"/history/pdf"),e.prev=1,e.next=4,b["a"].post(s,{row:a},{responseType:"blob"});case 4:i=e.sent,n=window.URL.createObjectURL(new Blob([i.data])),l=document.createElement("a"),l.href=n,l.setAttribute("download","Historial-Medico.pdf"),document.body.appendChild(l),l.click(),document.body.removeChild(l),u["a"].fire({icon:"success",title:"PDF generado"}),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](1),u["a"].fire({icon:"error",title:"Error"});case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))()}}},h=g,C=e("2877"),k=Object(C["a"])(h,s,i,!1,null,null,null);t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2d0b3879.fb83aba1.js.map