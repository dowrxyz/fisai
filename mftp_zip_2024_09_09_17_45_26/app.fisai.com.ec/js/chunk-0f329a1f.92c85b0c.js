(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f329a1f"],{"03fd":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("d3b7"),r("14d9"),r("c740"),r("b0c0"),r("9911"),r("a434");var a=r("be92"),n=r("651e"),i=Object(a["c"])("settings",{state:function(){return{horizontalMenu:!1,miniSidebarMenu:!1,lang:{title:"English",value:"en",image:r("2991")},langOption:[{title:"English",value:"en",image:r("2991")},{title:"Arabic",value:"ar",image:r("345f")},{title:"Chinese",value:"chi",image:r("5b24")},{title:"Hindi",value:"hi",image:r("9637")},{title:"Greek",value:"gr",image:r("1fac")},{title:"Franch",value:"fr",image:r("c3f7")}],colors:[{primary:"#827af3",primaryLight:"#b47af3",bodyBgLight:"#efeefd",bodyBgDark:"#1d203f"},{primary:"#e07af3",primaryLight:"#f37ab7",bodyBgLight:"#f7eefd",bodyBgDark:"#1d203f"},{primary:"#6475c7",primaryLight:"#7abbf3",bodyBgLight:"#eaf5ff",bodyBgDark:"#1d203f"},{primary:"#c76464",primaryLight:"#f3c37a",bodyBgLight:"#fff8ea",bodyBgDark:"#1d203f"},{primary:"#c764ad",primaryLight:"#de8ba9",bodyBgLight:"#ffeaf5",bodyBgDark:"#1d203f"},{primary:"#64c7ac",primaryLight:"#a3f37a",bodyBgLight:"#f0ffea",bodyBgDark:"#1d203f"},{primary:"#8ac764",primaryLight:"#dbf37a",bodyBgLight:"#f7ffea",bodyBgDark:"#1d203f"}],authUser:{auth:!1,authType:!1,user:{}},users:[{id:"sh46s546sdg564sdffs4hsd6fh",name:"Admin Xray",mobileNo:null,email:"admin@xray.com",profileImage:null,password:"admin123"}],globalSearch:n,bookmark:[{title:"Video Chat",link:{name:"app.chat"},is_icon_class:!0,icon:"ri-message-line"},{title:"Product Listing",link:{name:"app.e-commerce.index"},is_icon_class:!0,icon:"ri-file-list-line"},{title:"Social App",link:{name:"social.list"},is_icon_class:!0,icon:"ri-question-answer-line"},{title:"Todo",link:{name:"app.todo"},is_icon_class:!0,icon:"ri-chat-check-line"},{title:"Inbox",link:{name:"app.email"},is_icon_class:!0,icon:"ri-inbox-line"}],activePage:{name:"Dashboard",breadCrumb:[{html:'<i class="ri-home-4-line mr-1 float-left"></i>Home',to:{name:"mini.dashboard.home-1"}},{text:"",href:"#"}]}}},getters:{horizontalMenuState:function(e){return e.horizontalMenu},miniSidebarState:function(e){return e.miniSidebarMenu},authUserState:function(e){return e.authUser},usersState:function(e){return e.users},activePage:function(e){return e.activePage},langState:function(e){return e.lang},globalSearchState:function(e){return e.globalSearch},bookmarkState:function(e){return e.bookmark},langOptionState:function(e){return e.langOption},colorState:function(e){return e.colors}},actions:{horizontalMenuAction:function(){this.horizontalMenu?this.horizontalMenu=!1:this.horizontalMenu=!0},miniSidebarAction:function(){var e=this;return new Promise((function(t,r){e.miniSidebarMenu?(e.miniSidebarMenu=!1,t(!1)):(e.miniSidebarMenu=!0,t(!0))}))},authUserAction:function(e){this.authUser=e},addUserAction:function(e){this.users.push(e)},activePageAction:function(e){this.activePage=e},addBookmarkAction:function(e){this.bookmark.push(e)},removeBookmarkAction:function(e){var t=this.bookmark.findIndex((function(t){return t.link.name===e.link.name}));-1!==t&&this.bookmark.splice(t,1)},setLangAction:function(e){this.lang=e},setRtlAction:function(){document.getElementsByTagName("html")[0].setAttribute("dir","rtl");var e=document.getElementsByTagName("body");e[0].classList.add("rtl"),e[0].classList.remove("light")},removeRtlAction:function(){document.getElementsByTagName("html")[0].setAttribute("dir","ltr");var e=document.getElementsByTagName("body");e[0].classList.remove("rtl"),e[0].classList.add("light")}}})},fa2b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("h1",{staticClass:"mb-0 mt-2"},[e._v("Iniciar Sesión")]),t("SignIn1Form",{attrs:{email:"",password:"",document_number:""}})],1)},n=[],i=(r("14d9"),r("b0af")),o=(r("d81d"),r("4de4"),r("d3b7"),function(){var e=this,t=e._self._c;return t("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(r){var a=r.handleSubmit;return[t("form",{staticClass:"mt-4",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)}}},[t("ValidationProvider",{attrs:{vid:"type",name:"Tipo",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"typeInput"}},[e._v("Tipo")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.type,expression:"user.type"}],class:"form-control mb-0"+(a.length>0?" is-invalid":""),attrs:{id:"typeInput",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"type",t.target.multiple?r:r[0])}}},[t("option",[e._v("Admin")]),t("option",[e._v("Doctor/Paciente")])]),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(a[0]))])])])]}}],null,!0)}),"Admin"===e.user.type?t("ValidationProvider",{attrs:{vid:"email",name:"E-mail",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"emailInput"}},[e._v("Correo Electrónico")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:"form-control mb-0"+(a.length>0?" is-invalid":""),attrs:{type:"email",id:"emailInput","aria-describedby":"emailHelp",placeholder:"Ingrese correo electrónico",required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(a[0]))])])])]}}],null,!0)}):t("ValidationProvider",{attrs:{vid:"email",name:"Número de Documento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"documentInput"}},[e._v("Número de Documento")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.document_number,expression:"user.document_number"}],class:"form-control mb-0"+(a.length>0?" is-invalid":""),attrs:{type:"text",id:"documentInput","aria-describedby":"documentemailHelp",placeholder:"Ingrese número de documento",required:""},domProps:{value:e.user.document_number},on:{input:function(t){t.target.composing||e.$set(e.user,"document_number",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(a[0]))])])])]}}],null,!0)}),t("ValidationProvider",{attrs:{vid:"password",name:"Password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.errors;return[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"passwordInput"}},[e._v("Contraseña")]),t("router-link",{staticClass:"float-right",attrs:{to:"/auth/password-reset"}},[e._v(" ¿Has olvidado tu contraseña? ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:"form-control mb-0"+(a.length>0?" is-invalid":""),attrs:{type:"password",id:"passwordInput",placeholder:"Password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),t("div",{staticClass:"invalid-feedback"},[t("span",[e._v(e._s(a[0]))])])],1)]}}],null,!0)}),t("div",{staticClass:"d-inline-block w-100"},[t("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[e._v("Iniciar sesión")])])],1)]}}])})}),s=[],u=r("c7eb"),l=r("1da1"),c=r("5530"),d=(r("e9c4"),r("be92")),m=r("03fd"),p=(r("b64b"),r("caad"),r("2532"),r("7424")),f={first_name:"",is_super_admin:!1},g=Object(d["c"])("userStore",{state:function(){return{user:JSON.parse(localStorage.getItem("user"))||f,permissions:localStorage.getItem("permissions")||[],token:localStorage.getItem("token")||""}},getters:{getUser:function(e){return e.user},getToken:function(e){return e.token},isLoggedIn:function(e){return!!e.token},getPermissions:function(e){return e.permissions},isSuperAdmin:function(e){return e.user.is_super_admin},userCan:function(e){return function(t){return!!e.user.is_super_admin||e.permissions.includes(t)}}},actions:{login:function(e,t){var r=this;return Object(l["a"])(Object(u["a"])().mark((function a(){var n,i;return Object(u["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p["a"].post("/login",{email:e,password:t});case 3:return n=a.sent,i=n.data,r.user=i.data.user,r.permissions=i.data.permissions,r.token=i.data.token,localStorage.setItem("permissions",JSON.stringify(i.data.permissions)),localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),a.abrupt("return",200);case 14:return a.prev=14,a.t0=a["catch"](0),a.abrupt("return",404);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})))()},logout:function(){p["a"].get("/logout"),Object.assign(this.user,f),localStorage.clear(),this.token=""}}}),b=r("442f"),h={name:"SignIn1Form",props:["email","password","document_number"],data:function(){return{user:{type:"Admin",document_number:"",email:"",password:""}}},mounted:function(){this.user.email=this.$props.email,this.user.password=this.$props.password,this.user.document_number=this.$props.document_number},computed:Object(c["a"])({},Object(d["e"])(m["a"],g)),methods:{onSubmit:function(){this.login()},login:function(){var e=this;return Object(l["a"])(Object(u["a"])().mark((function t(){var r,a,n,i,o,s,l,c;return Object(u["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p["a"].post("/login",e.user);case 3:r=t.sent,a=r.data,n=a.data,i=n.user,o=n.token,s=n.permissions,localStorage.setItem("isLoggedIn",!0),localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("token",o),localStorage.setItem("permissions",JSON.stringify(s)),l={Doctor:"dashboard.home-4",Paciente:"dashboard.home-3"},c=l[i.role]||"dashboard.home-1",e.$router.push({name:c}),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),b["a"].fire({icon:"error",title:"Error"});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}},v=h,y=r("2877"),k=Object(y["a"])(v,o,s,!1,null,null,null),_=k.exports,S=r("358c"),w={components:{SignIn1Form:_},data:function(){return{}},mounted:function(){var e=localStorage.getItem("access_token");void 0!==e&&null!==e&&this.$router.push({name:"mini.dashboard.home-2"})},methods:{loginOAuth0:function(){new i["a"].WebAuth(S["a"].auth0Config).authorize()}}},I=w,O=Object(y["a"])(I,a,n,!1,null,null,null);t["default"]=O.exports}}]);
//# sourceMappingURL=chunk-0f329a1f.92c85b0c.js.map