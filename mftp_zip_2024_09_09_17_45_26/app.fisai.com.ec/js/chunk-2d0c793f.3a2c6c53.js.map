{"version":3,"sources":["webpack:///./src/views/fisai/roles/DetailView.vue","webpack:///src/views/fisai/roles/DetailView.vue","webpack:///./src/views/fisai/roles/DetailView.vue?8b54","webpack:///./src/views/fisai/roles/DetailView.vue?fe7e"],"names":["render","_vm","this","_c","_self","attrs","staticClass","scopedSlots","_u","key","fn","_v","proxy","_s","document","name","permissionsSelected","length","users_total","on","saveChanges","_l","system_modules","module","index","permissions","permission","index2","concat","domProps","checkedIfExists","$event","selectPermission","staticRenderFns","mounted","xray","getData","data","system_permissions","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$api$get","wrap","_context","prev","next","api","get","$route","params","id","sent","permissionsSelectedGenerate","t0","Toast","fire","icon","title","stop","loadDocument","_this2","show","then","r","map","item","indexOf","indexInSelected","selectedThisPermission","splice","push","_this3","_callee2","_context2","patch","component"],"mappings":"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","file":"js/chunk-2d0c793f.3a2c6c53.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-3\"},[_c('iq-card',{scopedSlots:_vm._u([{key:\"headerTitle\",fn:function(){return [_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Detalles de Rol\")])]},proxy:true},{key:\"body\",fn:function(){return [_c('ul',{staticClass:\"list-group list-group-flush\"},[_c('li',{staticClass:\"list-group-item\"},[_c('strong',[_vm._v(\"Nombre:\")]),_c('span',{staticClass:\"pull-right\"},[_vm._v(_vm._s(_vm.document.name))])]),_c('li',{staticClass:\"list-group-item\"},[_c('strong',[_vm._v(\"Permisos Asignados:\")]),_c('span',{staticClass:\"pull-right\"},[_vm._v(_vm._s(_vm.permissionsSelected.length))])]),_c('li',{staticClass:\"list-group-item\"},[_c('strong',[_vm._v(\"Total Usuarios:\")]),_c('span',{staticClass:\"pull-right\"},[_vm._v(_vm._s(_vm.document.users_total))])])])]},proxy:true},{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.saveChanges}},[_c('i',{staticClass:\"fa fa-floppy-o\"}),_vm._v(\" Guardar Cambios \")])]},proxy:true}])})],1),_c('div',{staticClass:\"col-9\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.document.system_modules),function(module,index){return _c('div',{key:index,staticClass:\"col-lg-6\"},[_c('iq-card',{scopedSlots:_vm._u([{key:\"headerTitle\",fn:function(){return [_c('h4',{staticClass:\"card-title\"},[_vm._v(_vm._s(module.name))])]},proxy:true},{key:\"body\",fn:function(){return [_c('ul',{staticClass:\"list-group list-group-flush\"},_vm._l((module.permissions),function(permission,index2){return _c('li',{key:index2,staticClass:\"list-group-item\"},[_c('strong',[_vm._v(_vm._s(permission))]),_c('div',{staticClass:\"custom-control custom-switch float-right\"},[_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":`customSwitch${index}-${index2}`},domProps:{\"checked\":_vm.checkedIfExists(permission)},on:{\"click\":function($event){return _vm.selectPermission(permission)}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":`customSwitch${index}-${index2}`}})])])}),0)]},proxy:true}],null,true)})],1)}),0)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container fluid>\n    <div class=\"row\">\n      <div class=\"col-3\">\n        <iq-card>\n          <template v-slot:headerTitle>\n            <h4 class=\"card-title\">Detalles de Rol</h4>\n          </template>\n          <template v-slot:body>\n            <ul class=\"list-group list-group-flush\">\n              <li class=\"list-group-item\">\n                <strong>Nombre:</strong\n                ><span class=\"pull-right\">{{ document.name }}</span>\n              </li>\n              <li class=\"list-group-item\">\n                <strong>Permisos Asignados:</strong\n                ><span class=\"pull-right\">{{ permissionsSelected.length }}</span>\n              </li>\n              <li class=\"list-group-item\">\n                <strong>Total Usuarios:</strong\n                ><span class=\"pull-right\">{{ document.users_total }}</span>\n              </li>\n            </ul>\n          </template>\n          <template v-slot:footer>\n            <button class=\"btn btn-primary\" @click=\"saveChanges\">\n              <i class=\"fa fa-floppy-o\" /> Guardar Cambios\n            </button>\n          </template>\n        </iq-card>\n      </div>\n      <div class=\"col-9\">\n        <div class=\"row\">\n          <div\n            class=\"col-lg-6\"\n            v-for=\"(module, index) in document.system_modules\"\n            :key=\"index\"\n          >\n            <iq-card>\n              <template v-slot:headerTitle>\n                <h4 class=\"card-title\">{{ module.name }}</h4>\n              </template>\n              <template v-slot:body>\n                <ul class=\"list-group list-group-flush\">\n                  <li\n                    class=\"list-group-item\"\n                    v-for=\"(permission, index2) in module.permissions\"\n                    :key=\"index2\"\n                  >\n                    <strong>{{ permission }}</strong>\n\n                    <div class=\"custom-control custom-switch float-right\">\n                      <input\n                        type=\"checkbox\"\n                        class=\"custom-control-input\"\n                        :id=\"`customSwitch${index}-${index2}`\"\n                        :checked=\"checkedIfExists(permission)\"\n                        @click=\"selectPermission(permission)\"\n                      />\n                      <label class=\"custom-control-label\" :for=\"`customSwitch${index}-${index2}`\">\n                      </label>\n                    </div>\n                  </li>\n                </ul>\n              </template>\n            </iq-card>\n          </div>\n        </div>\n      </div>\n    </div>\n  </b-container>\n</template>\n\n<script>\nimport { xray } from '../../../config/pluginInit'\nimport api from '../../../services/api'\nimport { Toast } from '../../../mixins/toast'\n\nexport default {\n  mounted () {\n    xray.index()\n    this.getData()\n  },\n  data () {\n    return {\n      document: {\n        permissions: [],\n        system_permissions: [],\n        users_total: 0\n      },\n      permissionsSelected: []\n    }\n  },\n  methods: {\n    async getData () {\n      try {\n        const { data } = await api.get(`/roles/${this.$route.params.id}`)\n        this.document = data\n        this.permissionsSelectedGenerate(this.document.permissions)\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: 'Error'\n        })\n      }\n    },\n    loadDocument () {\n      api.show(this.$route.params.id).then((r) => {\n        this.document = r.data\n        this.permissionsSelectedGenerate(this.document.permissions)\n      })\n    },\n    permissionsSelectedGenerate (permissions) {\n      this.permissionsSelected = permissions.map((item, index) => {\n        return item.name\n      })\n    },\n    checkedIfExists (permission) {\n      if (this.permissionsSelected.indexOf(permission) !== -1) {\n        return true\n      }\n      return false\n    },\n    selectPermission (permission) {\n      let indexInSelected = this.permissionsSelected.indexOf(permission)\n      let selectedThisPermission = indexInSelected !== -1\n\n      if (selectedThisPermission) {\n        this.permissionsSelected.splice(indexInSelected, 1)\n        return true\n      }\n\n      this.permissionsSelected.push(permission)\n      return true\n    },\n    async saveChanges () {\n      try {\n        await api.patch(`/roles/${this.$route.params.id}/permissions`, {\n          permissions: this.permissionsSelected\n        })\n        this.getData()\n        Toast.fire({\n          icon: 'success',\n          title: 'Actualizado Correctamente'\n        })\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: 'Error'\n        })\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailView.vue?vue&type=template&id=21358cec&\"\nimport script from \"./DetailView.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}